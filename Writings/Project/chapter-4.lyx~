#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass scrbook
\begin_preamble
% in case somebody want to have the label "Equation"
%\renewcommand{\eqref}[1]{Equation~(\negthinspace\autoref{#1})}

% that links to image floats jumps to the beginning
% of the float and not to its caption
\usepackage[figure]{hypcap}
\usepackage{array,multirow,graphicx}

% Added additionally

% define "struts", as suggested by Claudio Beccari in
%    a piece in TeX and TUG News, Vol. 2, 1993.
\newcommand\Tstrut{\rule{0pt}{2.6ex}}         % = `top' strut was 2.6
\newcommand\Bstrut{\rule[-0.9ex]{0pt}{0pt}}   % = `bottom' strut
\newcommand\setrow[1]{\gdef\rowmac{#1}#1\ignorespaces}
\newcommand\clearrow{\global\let\rowmac\relax}

% the pages of the TOC is numbered roman
% and a pdf-bookmark for the TOC is added
\let\myTOC\tableofcontents
\renewcommand\tableofcontents{%
  \frontmatter
  \pdfbookmark[1]{\contentsname}{}
  \myTOC
  \mainmatter }

% makes caption labels bold
% for more info about these settings, see
% https://ctan.org/tex-archive/macros/latex/contrib/koma-script/doc/scrguien.pdf
\setkomafont{captionlabel}{\bfseries}
\setcapindent{1em}

% enables calculations
\usepackage{calc}

% fancy page header/footer settings
% for more information see section 9 of
% ftp://www.ctan.org/pub/tex-archive/macros/latex2e/contrib/fancyhdr/fancyhdr.pdf
\renewcommand{\chaptermark}[1]{\markboth{#1}{#1}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}

% increases the bottom float placement fraction
\renewcommand{\bottomfraction}{0.5}

% avoids that floats are placed above its sections
\let\mySection\section\renewcommand{\section}{\suppressfloats[t]\mySection}

% increases link area for cross-references and autoname them
% if you change the document language to e.g. French
% you must change "extrasenglish" to "extrasfrench"
% if you uncomment the following lines, you cannot use the reference version Ref+Text in LyX
%\AtBeginDocument{%
% \renewcommand{\ref}[1]{\autoref{#1}}
%}
%\def\refnamechanges{%
% \renewcommand*{\equationautorefname}[1]{}
% \renewcommand{\sectionautorefname}{sec.\negthinspace}
% \renewcommand{\subsectionautorefname}{sec.\negthinspace}
% \renewcommand{\subsubsectionautorefname}{sec.\negthinspace}
% \renewcommand{\figureautorefname}{Fig.\negthinspace}
% \renewcommand{\tableautorefname}{Tab.\negthinspace}
%}
%\@ifpackageloaded{babel}{\addto\extrasenglish{\refnamechanges}}{\refnamechanges}
\end_preamble
\options intoc,bibliography=totoc,index=totoc,BCOR10mm,captions=tableheading,titlepage
\use_default_options true
\master Dissertation.lyx
\begin_modules
customHeadersFooters
\end_modules
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding utf8
\fontencoding global
\font_roman "lmodern" "default"
\font_sans "lmss" "default"
\font_typewriter "lmtt" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures false
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command bibtex
\index_command default
\float_placement h
\paperfontsize 12
\spacing double
\use_hyperref true
\pdf_title "Your title"
\pdf_author "Your name"
\pdf_bookmarks true
\pdf_bookmarksnumbered true
\pdf_bookmarksopen true
\pdf_bookmarksopenlevel 1
\pdf_breaklinks false
\pdf_pdfborder true
\pdf_colorlinks false
\pdf_backref false
\pdf_pdfusetitle false
\pdf_quoted_options "pdfpagelayout=OneColumn, pdfnewwindow=true, pdfstartview=XYZ, plainpages=false"
\papersize a4paper
\use_geometry false
\use_package amsmath 2
\use_package amssymb 2
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 0
\use_minted 0
\branch Standalone
\selected 1
\filename_suffix 0
\color #ff0000
\end_branch
\index Index
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 2
\paragraph_separation skip
\defskip medskip
\is_math_indent 1
\math_indentation default
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 2
\paperpagestyle fancy
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Left Header
\begin_inset Argument 1
status open

\begin_layout Plain Layout
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
chaptername
\end_layout

\end_inset


\begin_inset space ~
\end_inset


\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
thechapter
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
rightmark
\end_layout

\end_inset


\begin_inset Note Note
status collapsed

\begin_layout Plain Layout
Enable page headers and add the chapter to the header line.
\end_layout

\end_inset


\end_layout

\begin_layout Right Header
\begin_inset Argument 1
status open

\begin_layout Plain Layout
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
leftmark
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Left Footer
\begin_inset Argument 1
status open

\begin_layout Plain Layout
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
thepage
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Center Footer

\end_layout

\begin_layout Right Footer
\begin_inset Argument 1
status open

\begin_layout Plain Layout

\end_layout

\end_inset


\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
thepage
\end_layout

\end_inset


\end_layout

\begin_layout Chapter
Analysis
\begin_inset CommandInset label
LatexCommand label
name "chap:Analysis"

\end_inset


\end_layout

\begin_layout Standard
Having outlined the methodology of the study, it is time to explore the
 environment, address the challenges and hopefully solve the environment.
 
\begin_inset Newline newline
\end_inset

When is the environment solved? The environment is solved when the agent
 can cope with the different type of challenges that the environment processes.
 As mentioned in section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:The-environment"
plural "false"
caps "false"
noprefix "false"

\end_inset

, the environment of this study processes four main challenges; difficult
 areas, static obstacles, crowded areas and dynamic obstacles.
 
\end_layout

\begin_layout Section
The look of learning
\end_layout

\begin_layout Standard
Learning can be expressed in many ways 
\begin_inset CommandInset citation
LatexCommand cite
key "TBOTU"
literal "false"

\end_inset

, however, the most intuitive statistics is the ACR and the ALE, examples
 are seen from figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ACR-and-ALE"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 
\end_layout

\begin_layout Standard
The ACR is expected to converge to the maximum obtainable level of reward
 within a single episode, when learning has taken place and the agent has
 solved the environment.
 The ALE should converge to the minimum number of steps needed to obtain
 the reward.
 If a small negative reward is provided at each step, the ALE and ACR develop
 almost inversely, because the number of steps bound the maximum obtainable
 reward.
 
\begin_inset Newline newline
\end_inset

The speed of which the convergence takes place is a result of the complexity
 of the environment and the degree of assistance provided to the agent,
 as will be clear doing this section.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The simplest version of the environment.
\begin_inset CommandInset label
LatexCommand label
name "fig:The-simplest-version"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename C:/Users/Krist/Desktop/Kristian/Privat/Ans√∏gninger/Udveksling/University College London/Being there/Dissertation/Picture/BasicLearningEnvironment.PNG

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\shape italic
\size footnotesize
The simple environment contains only a target (darker green square) and
 the agent (light blue).
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-simplest-version"
plural "false"
caps "false"
noprefix "false"

\end_inset

 shows the simplest possible environment, without any obstacles.
 Learning in this environment is straight forward, and this is seen from
 figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ACR-and-ALE"
plural "false"
caps "false"
noprefix "false"

\end_inset

, by the red curves.
 The ACR and ALE converges rapidly to their optimal levels, which are obtained
 after around 75.000 steps in this case.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ACR and ALE for the environment from fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-Environment"
plural "false"
caps "false"
noprefix "false"

\end_inset

 and 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-simplest-version"
plural "false"
caps "false"
noprefix "false"

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:ACR-and-ALE"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename C:/Users/Krist/GitHub/ml-agents/Dissertation/Notebooks/graphs/DifferentLooksOfLearning.jpg
	scale 70

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
The shapes of ACR and ALE seen in figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ACR-and-ALE"
plural "false"
caps "false"
noprefix "false"

\end_inset

 are ideals, and far from trivial to obtain with the slightest degree of
 complexity present.
 The road to meaningful learning requires careful design of the aid provided
 to the agent to ensure generalisation and so providing the agent with the
 ability to handle unseen and challenging environments.
 
\begin_inset Newline newline
\end_inset

The blue curves are obtained from the environment from figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-Environment"
plural "false"
caps "false"
noprefix "false"

\end_inset

, and their shapes are quite different from the red counterparts.
 
\begin_inset Newline newline
\end_inset

Learning can take place in complex environments, seen from the increasing
 blue ACR, but it is not guaranteed to be meaningful or stable.
 
\begin_inset Newline newline
\end_inset

An ACR-curve fluctuating around zero indicates that the actions of the agent
 is dominated by random actions.
 It is not possible to say whether the actions of the agent would continue
 to be random, or if more learning would take place over time.
 
\begin_inset Newline newline
\end_inset

Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ACR-and-ALE"
plural "false"
caps "false"
noprefix "false"

\end_inset

 contains just 200.000 steps, which in general is regarded as few, and the
 purpose of figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ACR-and-ALE"
plural "false"
caps "false"
noprefix "false"

\end_inset

 is to motivate the need for aids, to constitute meaningful and sustainable
 learning with the ability to generalise to unseen environments.
 
\end_layout

\begin_layout Standard
A final note is that learning can be sensitive to the initialisation of
 the environment, especially if avoidable objects are added randomly.
 However, over time, the policy does converge to the optimal policy, see
 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:3"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 The sensitivity just affects the length of 
\shape italic
over time
\shape default
, and some of ways to guide learning in 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Learning-to-learn"
plural "false"
caps "false"
noprefix "false"

\end_inset

 significantly reduce the sensitivity.
 
\end_layout

\begin_layout Section
Learning to learn
\begin_inset CommandInset label
LatexCommand label
name "sec:Learning-to-learn"

\end_inset


\end_layout

\begin_layout Standard
Depending on the environment, it is sometimes necessary to aid the learning
 process of an agent, as a result of what model-free RL basically are ‚Äì
 a function mapping, often high-dimensional, from states to actions.
 In English, that means that too complex states can result in odd behaviour,
 if the quality of the function mapping is too poor at the time being.
 This section covers different ways to minimise the occurrence of destructive
 behaviour, by using aids to develop a high-quality function mapping, to
 facilitate meaningful learning.
 
\end_layout

\begin_layout Subsection
Curriculum Learning
\end_layout

\begin_layout Standard
The first step towards improving learning is to introduce a curriculum,
 for the agent to learn from, to gradually add complexity to the environment,
 as the agent learn to cope with novel challenges.
 
\begin_inset Newline newline
\end_inset

The use of CL for machine learning algorithms was formalised by 
\begin_inset CommandInset citation
LatexCommand cite
key "Bengio:2009:CL:1553374.1553380"
literal "false"

\end_inset

, and they specifically studied the use of CL on deep nets, with their experimen
ts showing significant improvements in terms of generalisation.
 
\begin_inset CommandInset citation
LatexCommand cite
key "DBLP:journals/corr/abs-1804-00168"
literal "false"

\end_inset

 used CL successfully for navigation using DRL, and reported great generalisatio
n properties of their work.
 How to optimally design a curriculum is almost a study worth itself, and
 the curriculum used here is designed, such that it directly addresses three
 of the four main challenges equally, namely the static obstacles, the crowded
 areas and the dynamic obstacles.
 Specifying curriculums in Unity is done in a json file, seen in figure
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-curriculum-of"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 For a discussion of each of the parameters in the curriculum, see 
\begin_inset CommandInset citation
LatexCommand cite
key "CLMLA"
literal "false"

\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The curriculum of this study
\begin_inset CommandInset label
LatexCommand label
name "fig:The-curriculum-of"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename C:/Users/Krist/Desktop/Kristian/Privat/Ans√∏gninger/Udveksling/University College London/Being there/Dissertation/Picture/Curriculum_up_up.PNG

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
The parameters of the CL are specified through a dictionary, and the keys
 of the dictionary referrers to the reset parameters
\begin_inset Foot
status open

\begin_layout Plain Layout
See 
\color red
appendix
\end_layout

\end_inset

 of the academy.
 The dictionary contains at least one variable for each of the three types
 of obstacles, along with an option to specify the number of training areas,
 allowing for parallelisation of the training.
 The latter is described in more detail in section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Shared-Experience"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 
\end_layout

\begin_layout Standard
The curriculum is designed such that the obstacles are introduced relative
 to their degree of complexity.
 The first challenge is the static obstacles, then the semi-static crowded
 areas and finally the dynamic pedestrians.
 Each type of obstacle is introduced over three lessons, and the same threshold
 is required.
 
\begin_inset Newline newline
\end_inset

The threshold should be set with two variables of the environment in mind,
 namely the AEL and the
\shape italic
 step penalty
\shape default
 (SP), as well as the value of the 
\shape italic
minimum number of episodes
\shape default
 (MNE).
 The AEL and SP form an upper bound on the level of obtainable ACR, and
 the relationship between the ACR and the threshold gets stronger the higher
 the value of MNE.
 
\begin_inset Newline newline
\end_inset

If the positive reward is 
\begin_inset Formula $+1$
\end_inset

, the AEL is 
\begin_inset Formula $200$
\end_inset

 and SP is 
\begin_inset Formula $-0.0005$
\end_inset

, then the upper bound of the ACR is 
\begin_inset Formula $1-(200\cdot-0.0005)=0.9$
\end_inset


\begin_inset Foot
status open

\begin_layout Plain Layout
Assuming the SP is the only penalty received.
\end_layout

\end_inset

.
 Furthermore, if one training run consist of 
\begin_inset Formula $200$
\end_inset

 episodes, and the MNE is chosen to be 
\begin_inset Formula $200$
\end_inset

, then the threshold is equivalent to ACR.
 Setting the threshold and MNE too high implies no progress and setting
 them too low can result in unstable progress.
 
\begin_inset Newline newline
\end_inset

Signal smoothing can be enabled to increase the robustness of the signal.
 
\end_layout

\begin_layout Standard
A common misconception when working with reinforcement learning is the amount
 of data needed to sustain meaningful learning, the planning fallacy as
 of 
\begin_inset CommandInset citation
LatexCommand cite
key "rlblogpost"
literal "false"

\end_inset

.
 Which means that the MNE and the threshold should be chosen at a level,
 which ensures stable learning which generalises.
 
\end_layout

\begin_layout Standard
CL is a necessity in this study, for the four different robotic agents to
 sustain any meaningful learning, within a reasonable time.
 The following section outlines the performance of each of the four agents,
 using just CL.
 
\end_layout

\begin_layout Subsection
Exploring the Envrionment under CL
\end_layout

\begin_layout Standard
This section outlines the first set of results obtained on all four agents,
 which serves as a basis for evaluating the effect of the sections to come.
 Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Baseline-comparison"
plural "false"
caps "false"
noprefix "false"

\end_inset

 & 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Efficiency-in-Difficult"
plural "false"
caps "false"
noprefix "false"

\end_inset

 presents the results of 
\begin_inset Formula $500,000$
\end_inset

 training steps using CL.
 The means and standard deviations of are calculated after 
\begin_inset Formula $100,000$
\end_inset

 steps, excluding the burn-in period which is harder to justify belongs
 to the same distribution as the following observations.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Baseline comparison
\begin_inset CommandInset label
LatexCommand label
name "fig:Baseline-comparison"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\shape italic
\size footnotesize
\begin_inset Graphics
	filename C:/Users/Krist/GitHub/ml-agents/Dissertation/Notebooks/graphs/Baseline_comparison_100.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\shape italic
\size footnotesize
ACR/AEL are smoothed to better visualise, yet the means and standard deviations
 of are calculated on the raw data and after 100,000 steps.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
One should be cautions about interpreting too much on the initial results,
 as they are sensitive to initialisation, primarily because the episodes
 are unbounded, and they are provided to serve as a baseline.
 Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Baseline-comparison"
plural "false"
caps "false"
noprefix "false"

\end_inset

 shows the ACR, AEL and changes in lessons for all four agents.
 Looking at the tables next to the ACR and AEL curves indicates that agent
 1 is the most stable, agent 4 is the most efficient
\begin_inset Foot
status open

\begin_layout Plain Layout
In terms of locating the target, seen from the fact that agent 4 scores
 highest average ACR.
\end_layout

\end_inset

 and that there isn‚Äôt much difference between agent 2 and 3.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Efficiency in Difficult Areas
\begin_inset CommandInset label
LatexCommand label
name "fig:Efficiency-in-Difficult"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\shape italic
\size footnotesize
\begin_inset Graphics
	filename C:/Users/Krist/GitHub/ml-agents/Dissertation/Notebooks/graphs/Baseline_comparison_custom_100.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\shape italic
\size footnotesize
The means and standard deviations of are calculated after 2,000 increments.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Efficiency-in-Difficult"
plural "false"
caps "false"
noprefix "false"

\end_inset

 shows little difference at this stage, as all average efficiencies lies
 within one standard deviation from each other.
 However, this set the stage for investigating the effect of different aids
 in the training face.
 
\end_layout

\begin_layout Subsection
Maximum Steps
\end_layout

\begin_layout Standard
The motivation of invoking a maximum number of steps for the agent to take,
 is that above a certain threshold, destructive paths is too likely to occur.
 Destructive paths occur because of too much complexity, which implies that
 unwounded behaviour becomes optimal at time.
 
\end_layout

\begin_layout Standard
An example of this is that the agent runs in circles, because the target
 is located in area which is either associated with too high a probability
 of colliding with obstacles or unexplored, and so uncertain, and because
 of the size of step penalty, that implies running in circles is more attractive
 at the time.
 
\end_layout

\begin_layout Standard
Note, the threshold should be chosen such that it doesn‚Äôt circumvents the
 agent for moving around the entire environment.
 
\begin_inset Newline newline
\end_inset

An example of the effect can be seen from figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-Effect-of"
plural "false"
caps "false"
noprefix "false"

\end_inset

 and 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Number-of-Steps"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-Effect-of"
plural "false"
caps "false"
noprefix "false"

\end_inset

 shows the ACR, AEL and the changes in lessons of two runs of CL-based training,
 in an environment with static and dynamic obstacles (pedestrians).
 The blue run does not have a maximum number of steps specified, which the
 red have.
 Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Number-of-Steps"
plural "false"
caps "false"
noprefix "false"

\end_inset

 shows the actual number of steps for each episode of blue run, with one
 episode taking around 
\begin_inset Formula $35,000$
\end_inset

 steps.
 Table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Fraction-of-observations"
plural "false"
caps "false"
noprefix "false"

\end_inset

 shows how many observations lies above certain thresholds.
 The threshold used on the red run, in figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-Effect-of"
plural "false"
caps "false"
noprefix "false"

\end_inset

, is 
\begin_inset Formula $max_{steps}=4.000$
\end_inset

, which from table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Fraction-of-observations"
plural "false"
caps "false"
noprefix "false"

\end_inset

, is equivalent to excluding 
\begin_inset Formula $0.5\%$
\end_inset

 of the total observations.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The Effect of Restricting the number of steps
\begin_inset CommandInset label
LatexCommand label
name "fig:The-Effect-of"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename C:/Users/Krist/GitHub/ml-agents/Dissertation/Notebooks/graphs/EffectOfMaxSteps_new.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Excluding such a tiny fraction of the observations results in a lot more
 stable training, by reducing the skewness of the steps-distribution
\begin_inset Foot
status open

\begin_layout Plain Layout
See 
\color red
appendix
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Fraction of observations lost with maximum steps invoked
\begin_inset CommandInset label
LatexCommand label
name "tab:Fraction-of-observations"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
clearrow
\end_layout

\begin_layout Plain Layout


\backslash
centering
\end_layout

\begin_layout Plain Layout


\backslash
begin{tabular}{>{
\backslash
rowmac}c|>{
\backslash
rowmac}c>{
\backslash
rowmac}c>{
\backslash
rowmac}c >{
\backslash
rowmac}c>{
\backslash
rowmac}c>{
\backslash
rowmac}c>{
\backslash
rowmac}c>{
\backslash
rowmac}c>{
\backslash
rowmac}c >{
\backslash
rowmac}c<{
\backslash
clearrow}}
\end_layout

\begin_layout Plain Layout


\backslash
hline
\backslash
hline
\end_layout

\begin_layout Plain Layout


\backslash
setrow{
\backslash
bfseries}$
\backslash
mathbf{Max}_{
\backslash
mathbf{steps}}$ & 100 & 200 & 300 & 400 & 500 & 600 & 700 & 800 & 900 &
 1000
\backslash

\backslash

\end_layout

\begin_layout Plain Layout


\backslash
hline
\end_layout

\begin_layout Plain Layout

Share & 0.729 & 0.534 & 0.371 & 0.252 & 0.146 & 0.092 & 0.066 & 0.051 & 0.042 & 0.035
\backslash

\backslash

\end_layout

\begin_layout Plain Layout


\backslash
hline
\end_layout

\begin_layout Plain Layout


\backslash
setrow{
\backslash
bfseries}$
\backslash
mathbf{Max}_{
\backslash
mathbf{steps}}$ & 1000 & 2000 & 3000 & 4000 & 5000 & 6000 & 7000 & 8000
 & 9000 & 10000
\backslash

\backslash
 [0.5ex]
\end_layout

\begin_layout Plain Layout


\backslash
hline
\end_layout

\begin_layout Plain Layout

Share & 0.035 & 0.013 & 0.008 & 0.005 & 0.003 & 0.002 & 0.002 & 0.001 & 0.001 & 0.001
\backslash

\backslash
 [1ex]
\end_layout

\begin_layout Plain Layout


\backslash
hline
\end_layout

\begin_layout Plain Layout


\backslash
end{tabular}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Number-of-Steps"
plural "false"
caps "false"
noprefix "false"

\end_inset

 shows two important findings.
 Each graph, in figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Number-of-Steps"
plural "false"
caps "false"
noprefix "false"

\end_inset

, contains the steps as points and a tiny bar, if the target of an episode
 where located in a difficult area and the target where reached.
 
\begin_inset Newline newline
\end_inset

The first important finding is, that the restricted agent (red) reaches
 targets in the difficult areas continuously throughout training.
 This indicates that restricting the number of steps to 
\begin_inset Formula $4000$
\end_inset

 does not prevent the agent for exploring even the toughest parts of the
 environment.
 
\begin_inset Newline newline
\end_inset

The second important finding is, that the restricted agent seems to learn
 the difficult areas significantly quicker than its unrestricted fellow.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Number of Steps Within Each Episode
\begin_inset CommandInset label
LatexCommand label
name "fig:Number-of-Steps"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename C:/Users/Krist/GitHub/ml-agents/Dissertation/Notebooks/graphs/numberOfStepsPerEpisode_new.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
The last point is derived from the concentration of bars in the two graphs.
 The blue case takes around 
\begin_inset Formula $2000$
\end_inset

 episodes before the concentration stabilise, where it, at worst, happens
 around 
\begin_inset Formula $500$
\end_inset

 episodes for the red case.
 A stable concentration of bars indicates that learning, to locate the target
 in the difficult areas, has taken place.
 
\begin_inset Newline newline
\end_inset

Because the targets are randomly placed around the environment, we did expect
 to see roughly the same number of episodes, with the 
\shape italic
target located in the difficult areas
\shape default
 (TLDA), and this is confirmed from table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Learning-the-difficult"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Learning the difficult areas
\begin_inset CommandInset label
LatexCommand label
name "tab:Learning-the-difficult"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
centering
\end_layout

\begin_layout Plain Layout


\backslash
begin{tabular}{c c c c c}
\end_layout

\begin_layout Plain Layout


\backslash
hline
\backslash
hline
\end_layout

\begin_layout Plain Layout

 & Category & True & False & Share
\backslash

\backslash
 [0.5ex]
\end_layout

\begin_layout Plain Layout


\backslash
hline 
\end_layout

\begin_layout Plain Layout


\backslash
multirow{2}{*}{
\backslash
rotatebox[origin=c]{90}{
\end_layout

\begin_layout Plain Layout

$^{
\backslash
substack{
\backslash
text{
\backslash
normalsize No
\backslash
:max.} 
\backslash

\backslash
 
\backslash
text{
\backslash
normalsize steps}}}$}}
\end_layout

\begin_layout Plain Layout

& TLDA & 6765 & 722 & 0.096
\backslash
Tstrut
\backslash

\backslash
 [2ex]
\end_layout

\begin_layout Plain Layout

& GR & 349 & 373 & 0.517 
\backslash

\backslash
 [2ex]
\end_layout

\begin_layout Plain Layout


\backslash
hline
\end_layout

\begin_layout Plain Layout


\backslash
multirow{2}{*}{
\backslash
rotatebox[origin=c]{90}{
\end_layout

\begin_layout Plain Layout

$^{
\backslash
substack{
\backslash
text{
\backslash
normalsize Max.} 
\backslash

\backslash
 
\backslash
text{
\backslash
normalsize steps}}}$}}
\end_layout

\begin_layout Plain Layout

& TLDA & 6914 & 822 & 0.106
\backslash
Tstrut
\backslash

\backslash

\end_layout

\begin_layout Plain Layout

& GR & 372 & 450 & 0.547 
\backslash

\backslash
 [1ex]
\end_layout

\begin_layout Plain Layout


\backslash
hline
\end_layout

\begin_layout Plain Layout


\backslash
end{tabular}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Learning-the-difficult"
plural "false"
caps "false"
noprefix "false"

\end_inset

 reveals an interesting observation, namely that the efficiency, in terms
 of episodes with TLDA resulting in the target being reached, does not appear
 to differ, taking the differences in TLDA-shares into consideration.
 However, the steps needed to reach the target is on average 
\begin_inset Formula $15\%$
\end_inset

 lower for the bounded agent, which results in better performance.
 
\begin_inset Newline newline
\end_inset

Bounding the steps of the agent appears to result in the agent learning
 the environment quicker, and taking smarter actions, which over the longer
 run could materialise in overall improved efficiency because the quality
 of experience of the agent increases.
 
\end_layout

\begin_layout Standard
The take-away from this section is that avoiding potentially disastrous
 paths does influence learning, and going forward, a 
\begin_inset Formula $max_{steps}=4.000$
\end_inset

 is used.
 
\end_layout

\begin_layout Subsection
Shared Experience
\begin_inset CommandInset label
LatexCommand label
name "subsec:Shared-Experience"

\end_inset


\end_layout

\begin_layout Standard
Parallelised training is well-known is be beneficial in DL and DRL 
\begin_inset CommandInset citation
LatexCommand cite
key "mnih2013playing,DBLP:journals/nature/LeCunBH15,Silver_2016,FTORG"
literal "false"

\end_inset

, to cope with the amount of data needed, and manipulating the training
 time, to obtain significant results.
 The main objective of parallelisation is to reduce training time, and where
 training of deep nets with hundreds of millions of weights and billions
 of connections between units took weeks two years ago, advances in parallelisat
ion have reduced training time to a few hours 
\begin_inset CommandInset citation
LatexCommand cite
key "DBLP:journals/nature/LeCunBH15"
literal "false"

\end_inset

.
 
\begin_inset Newline newline
\end_inset

Part of these advances in parallelisation comes from novel algorithms, which
 benefit from parallelisation other than reduced training time.
 These novel algorithms incorporate experience of the agent to update the
 function approximation in question, thereby reducing the amount of data
 needed, and this is exactly what PPO does.
 
\begin_inset Newline newline
\end_inset

Parallelisation, at least in Unity, works by running concurrent training
 environments, either internally or externally.
 External refers to running multiple applications of the same environment,
 often used when training on GPU‚Äôs via cloud computing.
 Internal refers to having multiple environments, with the agents being
 linked to the same brain, within one application, see figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Internal-concurrent-training"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 Internal concurrent training is a way to utilise parallelisation when training
 on a CPU, and training using GPU‚Äôs isn‚Äôt a possibility 
\begin_inset CommandInset citation
LatexCommand cite
key "MEETI"
literal "false"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Internal concurrent training
\begin_inset CommandInset label
LatexCommand label
name "fig:Internal-concurrent-training"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename C:/Users/Krist/Desktop/Kristian/Privat/Ans√∏gninger/Udveksling/University College London/Being there/Dissertation/Picture/InternalConcurrentTraining.PNG
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\shape italic
\size footnotesize
Four similar environments prior to initialisation, each with an agent, a
 target and static obstacles.
 All the agents are linked to the same brain, thereby gathering experience
 to the same buffer.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Running concurrent training environments, externally as well as internally,
 fills the same experience buffer with prior observations.
 The usual benefit is that training accelerate, because the share of favourable
 prior observations increases faster with more agents to harvest.
 However, it can of cause go the other way, if the environment contains
 too much complexity at the time being.
 Furthermore, if nothing prevents the agents from wandering around to infinity,
 a bad spiral unfolds.
 This spiral is powered by two events; firstly, the agents never benefit
 from sharing experience because they rarely finish an episode.
 Secondly, the shared experience is low quality of the wandering.
 In this way, sharing becomes a burden.
 This is referred to as the feedback-loop-effect by 
\begin_inset CommandInset citation
LatexCommand cite
key "JPSBEFC"
literal "false"

\end_inset


\begin_inset Foot
status open

\begin_layout Plain Layout
Section 
\shape italic
J.P.
 Morgan has been using reinforcement learning algorithms to place trades,
 even though this can cause problems.
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Shared Experience
\begin_inset CommandInset label
LatexCommand label
name "fig:Shared-Experience"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename C:/Users/Krist/GitHub/ml-agents/Dissertation/Notebooks/graphs/EffectOfParallelisation_sub.jpg
	scale 70

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
The power in sharing experience is seen from figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Shared-Experience"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Shared-Experience"
plural "false"
caps "false"
noprefix "false"

\end_inset

 provides a detailed look of the AEL curve, in 
\color red
figure 26
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
See 
\color red
appendix
\end_layout

\end_inset

, from the area bounded by the black line.
 Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Shared-Experience"
plural "false"
caps "false"
noprefix "false"

\end_inset

 shows that bad experience of one agent often comes alone, i.e.
 spikes are often apart.
 The result is that the experience buffer contains a higher share of good
 experience to base the policy update on, implying an acceleration in learning,
 seen in
\color red
 figure 26
\color inherit
.
 
\end_layout

\begin_layout Subsection
Observation Stacking
\end_layout

\begin_layout Standard
Stacking observations provide the agent with a short-term memory, which
 can be beneficial in dynamic environments where consecutive information
 enables the agent to better understand the consequences of its action,
 and thereby better foresee 
\begin_inset CommandInset citation
LatexCommand cite
key "OBSSTACK"
literal "false"

\end_inset

.
 
\begin_inset Newline newline
\end_inset

Observation stacking is an alternative to the use of recurrent nets proposed
 by 
\begin_inset CommandInset citation
LatexCommand cite
key "Hochreiter:1997:LSM:1246443.1246450"
literal "false"

\end_inset

, and explored by 
\begin_inset CommandInset citation
LatexCommand cite
key "mnih2015humanlevel,Borsa:2019:OLR:3306127.3331811"
literal "false"

\end_inset

, for example to achieve human-level control on 47 ATARI games.
 
\end_layout

\begin_layout Standard
The effect of stacked observations is explored in this study, because recurrent
 nets have been found not to work well with continuous vector action spaces
 
\begin_inset CommandInset citation
LatexCommand cite
key "MatterFM"
literal "false"

\end_inset

, which is used by the agents of this study.
 
\end_layout

\begin_layout Standard
The effect of stacking observations is interesting when the dynamic obstacles
 are present in the environment, illustrated in figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-Effect-of-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-Effect-of-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

 compares the performance, in terms of ACR and AEL, of the baseline from
 figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-Effect-of"
plural "false"
caps "false"
noprefix "false"

\end_inset

 and two unbounded runs with 3 and 6 observations stacked respectively.
 The comparison starts from the number of steps where the first run progresses
 to lesson 3, which is where the pedestrians are introduced in the environment.
 
\begin_inset Newline newline
\end_inset

The take-away from figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-Effect-of-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

 is the stability of the ACR, but especially the AEL, from the two stacked
 runs (green and purple).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The Effect of Observation Stacking
\begin_inset CommandInset label
LatexCommand label
name "fig:The-Effect-of-1"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename C:/Users/Krist/GitHub/ml-agents/Dissertation/Notebooks/graphs/EffectOfObsStacking.jpg
	scale 70

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Another interesting angle for comparison, between the four runs from figure
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-Effect-of-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

, is to look at the number of collisions with pedestrians, see table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Pedestrian-collisions"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 Table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Pedestrian-collisions"
plural "false"
caps "false"
noprefix "false"

\end_inset

 indicates how stacking consecutive observations, can improve the ability
 to avoid collisions with pedestrians.
 The green run spends over half of its episodes with pedestrians present
 and has the lowest collision rate.
 
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pedestrian collisions
\begin_inset CommandInset label
LatexCommand label
name "tab:Pedestrian-collisions"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
centering
\end_layout

\begin_layout Plain Layout


\backslash
begin{tabular}{c|c c c c c}
\end_layout

\begin_layout Plain Layout


\backslash
hline
\backslash
hline
\end_layout

\begin_layout Plain Layout

Type & Obs & $Obs_{>=L_{3}}$ & $Share_{>=L_{3}}$ & Collisions & Share
\backslash

\backslash
 [0.5ex]
\end_layout

\begin_layout Plain Layout


\backslash
hline 
\end_layout

\begin_layout Plain Layout

MS: 0, OS: 1 & 7487 & 2458 & 0.33  & 524 & 0.21
\backslash
Tstrut
\backslash

\backslash

\end_layout

\begin_layout Plain Layout

MS: 4000, OS: 1 & 7712 & 3393 & 0.44 & 893 & 0.26
\backslash

\backslash

\end_layout

\begin_layout Plain Layout

MS: 0, OS: 3 & 8375 & 4393 & 0.52 & 841 & 0.19
\backslash

\backslash

\end_layout

\begin_layout Plain Layout

MS: 0, OS: 6 & 8463 & 3698 & 0.44 & 868& 0.24
\backslash

\backslash
 [1ex]
\end_layout

\begin_layout Plain Layout


\backslash
hline
\end_layout

\begin_layout Plain Layout


\backslash
end{tabular}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Three ways to improve learning in the agents, as well as their individual
 effect, has been presented, and the following section evaluates the combined
 effect.
\end_layout

\begin_layout Section
Results under certainty
\end_layout

\begin_layout Standard
The section outlines the results obtained after 1 million steps using the
 full set of aids previously described.
 The results presented in the following is directly comparable with the
 baseline results, except on the number of steps simulated, which matters
 for the quality of the policy obtained for each agent.
 
\begin_inset Newline newline
\end_inset

Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Full-set-up-under"
plural "false"
caps "false"
noprefix "false"

\end_inset

 shows similar pattern to figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Baseline-comparison"
plural "false"
caps "false"
noprefix "false"

\end_inset

, with agent 1 being the most efficient and stable.
 
\begin_inset Newline newline
\end_inset

Agent 2 and 3 follows closely and agent 4, the agent with visual input,
 does not seem to benefit from the increased information.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Full set-up under certainty
\begin_inset CommandInset label
LatexCommand label
name "fig:Full-set-up-under"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\paragraph_spacing single
\noindent
\align center

\shape italic
\size footnotesize
\begin_inset Graphics
	filename C:/Users/Krist/GitHub/ml-agents/Dissertation/Notebooks/graphs/Certain_comparison_100.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\paragraph_spacing single
\noindent
\align center

\shape italic
\size footnotesize
ACR/AEL are smoothed to better visualise, yet the means and standard deviations
 of are calculated on the raw data and after 100,000 steps.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Dealing-with-difficult"
plural "false"
caps "false"
noprefix "false"

\end_inset

 shows the ability to deal with the difficult areas, and here is little
 more dispersion the series in between, compared to figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Efficiency-in-Difficult"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 Agent 3 and 4 seems to have a harder time reaching the targets in the difficult
 areas, which is interesting because both have the distance to the target
 in their information set .
 
\begin_inset Newline newline
\end_inset

Table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Shares-of-Collisions"
plural "false"
caps "false"
noprefix "false"

\end_inset

 shows the shares of collisions, with crowded areas and pedestrians.
 The numbers in parenthesis shows the shares of episodes, in which the agent
 has been exposed to the given obstacle.
 All shares are calculated from the episodes, and not from the steps.
 Evaluating shares makes comparison straighter, agents in between as well
 as the baseline case and 
\shape italic
certain
\shape default
 case.
 Table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Shares-of-Collisions"
plural "false"
caps "false"
noprefix "false"

\end_inset

 shows significant differences the agents in between, in their ability to
 handle crowded areas.
 Most importantly, table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Shares-of-Collisions"
plural "false"
caps "false"
noprefix "false"

\end_inset

 indicates that the agents learn to avoid the crowded areas.
 One way to see this, is by comparing the collision share of agent 1 and
 agent 4.
 
\begin_inset Newline newline
\end_inset

The collision share of Agent 1 are lower than the one of agent 4, with agent
 1 having been exposed more to the crowded areas.
 More exposure should, all else equal, imply higher risk of collision, unless
 learning has occurred ‚Äì this is discussed more in section 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Dicussion"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Dealing with difficult areas
\begin_inset CommandInset label
LatexCommand label
name "fig:Dealing-with-difficult"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\paragraph_spacing single
\noindent
\align center

\shape italic
\size footnotesize
\begin_inset Graphics
	filename C:/Users/Krist/GitHub/ml-agents/Dissertation/Notebooks/graphs/Certain_comparison_custom_100.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\paragraph_spacing single
\noindent
\align center

\shape italic
\size footnotesize
The curves are averages from the four parallel areas, and the means and
 standard deviations of are calculated after 2,000 increments.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
With the core of the results obtained under certainty outlined, it is time
 to look at the results obtained under uncertainty, which is the focus of
 the next section.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Shares of Collisions
\begin_inset CommandInset label
LatexCommand label
name "tab:Shares-of-Collisions"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
centering
\end_layout

\begin_layout Plain Layout


\backslash
begin{tabular}{c|c c c|c c}
\end_layout

\begin_layout Plain Layout


\backslash
hline
\backslash
hline
\end_layout

\begin_layout Plain Layout

& 
\backslash
multicolumn{3}{c}{Crowded Areas} & 
\backslash
multicolumn{2}{c}{Pedestrians}
\backslash
Tstrut
\backslash

\backslash
 [0.5ex]
\end_layout

\begin_layout Plain Layout


\backslash
hline
\end_layout

\begin_layout Plain Layout

Agent & Baseline & Certain & Uncertain & Certain & Uncertain 
\backslash

\backslash

\end_layout

\begin_layout Plain Layout


\backslash
hline
\end_layout

\begin_layout Plain Layout

1 & 25.1
\backslash
% (42.3
\backslash
%) & 14.4
\backslash
% (88.0
\backslash
%) & y
\backslash
% (y
\backslash
%) & 
\end_layout

\begin_layout Plain Layout

13.4
\backslash
% (77.2
\backslash
%) & y
\backslash
% (y
\backslash
%)
\backslash

\backslash

\end_layout

\begin_layout Plain Layout

2 & 36.9
\backslash
% (15.6
\backslash
%)& 17.4
\backslash
% (87.7
\backslash
%) & y
\backslash
% & 
\end_layout

\begin_layout Plain Layout

13.7
\backslash
% (65.3
\backslash
%) & y
\backslash
%
\backslash

\backslash
 
\end_layout

\begin_layout Plain Layout

3 & 24.6
\backslash
% (43.1
\backslash
%)& 17.3
\backslash
% (79.3
\backslash
%) & y
\backslash
% &
\end_layout

\begin_layout Plain Layout

9.8
\backslash
% (32.4
\backslash
%) & y
\backslash
%
\backslash

\backslash
 
\end_layout

\begin_layout Plain Layout

4 & 32.3
\backslash
% (27.2
\backslash
%)& 22.6
\backslash
% (81.4
\backslash
%)& y
\backslash
% &
\end_layout

\begin_layout Plain Layout

14.5
\backslash
% (57.7
\backslash
%) & y
\backslash
%
\backslash

\backslash
[1ex]
\end_layout

\begin_layout Plain Layout


\backslash
hline
\end_layout

\begin_layout Plain Layout


\backslash
end{tabular}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Results under uncertainty
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Training Time
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
centering
\end_layout

\begin_layout Plain Layout


\backslash
begin{tabular}{c|c c c}
\end_layout

\begin_layout Plain Layout


\backslash
hline
\backslash
hline
\end_layout

\begin_layout Plain Layout

Agent & Baseline & Certain & Uncertain
\backslash
Tstrut
\backslash

\backslash
 [0.5ex]
\end_layout

\begin_layout Plain Layout


\backslash
hline
\end_layout

\begin_layout Plain Layout

1 & 42 min.
 & 124 min.
 & x min.
\backslash

\backslash
 
\end_layout

\begin_layout Plain Layout

2 & 43 min.
 & 129 min.
 & x min.
\backslash

\backslash
 
\end_layout

\begin_layout Plain Layout

3 & 44 min.
 & 135 min.
 & x min.
\backslash

\backslash
 
\end_layout

\begin_layout Plain Layout

4 & 125 min.
 & 667 min.
 & x min.
\backslash

\backslash
  [1ex]
\end_layout

\begin_layout Plain Layout


\backslash
hline
\end_layout

\begin_layout Plain Layout


\backslash
end{tabular}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Branch Standalone
inverted 0
status open

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
The contents of this branch is only output if this chapter is processed
 on its own, i.
\begin_inset space \thinspace{}
\end_inset

e., not from the master.
 This allows you to have a bibliography and a nomenclature if you only want
 to output this chapter.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand include
filename "Bibliography.lyx"

\end_inset


\end_layout

\end_inset


\end_layout

\end_body
\end_document
